-- Run if it is not the correct java version --
    curl -s "https://get.sdkman.io" | bash
    source "$HOME/.sdkman/bin/sdkman-init.sh"
    sdk install java 17.0.11-tem
    sdk use java 17.0.11-tem


-- Install PostgreSQL --
sudo apt update
sudo apt install postgresql postgresql-contrib -y

-- Confirm it is installed --
psql --version

-- Start PostgreSQL service --
sudo service postgresql start

-- Check status --
sudo service postgresql status

-- Create database and user --
sudo -u postgres psql

-- Inside the `psql` prompt --
    CREATE DATABASE developers;
    CREATE USER postgres WITH PASSWORD 'yourpassword';
    GRANT ALL PRIVILEGES ON DATABASE developers TO postgres;
    \q

-- Start PostgreSQL inside Docker 
    docker run --name devapi-db \
    -e POSTGRES_USER=postgres \
    -e POSTGRES_PASSWORD=postgres \
    -e POSTGRES_DB=developers \
    -p 5432:5432 -d postgres


-- Test login manually --
    psql -h localhost -U postgres -d postgres
    -- when prompted for the PASSWORD use
    postgres
-- You should see -- 
        psql (16.x)
        Type "help" for help.

        postgres=#

-- Inside `psql` --
    CREATE DATABASE developers;
    \l
    \q


-- Connect the backend to this database --
mvn clean spring-boot:run -Dspring-boot.run.profiles=prod



-- Launch Spring Boot app --
mvn clean spring-boot:run
